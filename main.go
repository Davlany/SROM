package main

import (
	"SROM/strct"
	"fmt"
	"log"
	"math/big"
	"strconv"
)

func main() {

	num1 := new(big.Int)
	num2 := new(big.Int)

	num1.SetString("123456789123456789123456789342352326234234553252343214234863254786235748238627364783264826587937785623947289472347239841234567891234567891234567893423523262342345532523432142348632547862357482386273647832648265879377856239472894723472398412345678912345678912345678934235232623423455325234321423486325478623574823862736478326482658793778562394728947234723984", 10)
	num2.SetString("987654321987654321987654321423436348263748723462378462344987304378443621315278361235671265387126361273163516235126353987654321987654321987654321423436348263748723462378462344987304378443621315278361235671265387126361273163516235126353987654321987654321987654321423436348263748723462378462344987304378443621315278361235671265387126361273163516235126353", 10)

	sum := new(big.Int)
	sum.Sub(num1, num2)
	fmt.Printf("Hexadecimal 1: %x\n", num1)
	fmt.Printf("Hexadecimal 2: %x\n", num2)
	fmt.Printf("Add in hex: %x\n", sum)

	hexNum1 := "784afcfaf40d652bdc697506a7e6bad6e3bee3ed359bba84c9c6a22c042d5c7b5f25dc1af8ae3399aaa5c58d52dc214045ba0af3072cc275d72c8ef36af869bfcf1085e57e33246dc11e64b0711f1ea4c18103ba04becdc27ef2bd39a4327cdc92e75384f02adbce0d2b2136fe4e336f5d98bbb0f2a285f87feec85939d0f12d9cd99ef7fe0cf5fcf1ef8f2fe2f99feb6f455890" //4294967294
	hexNum2 := "3f11716362ae6cb867c6158fc5e76a864baa6eb7a6fc56698ff9971532a19f83c005e1a02baafd9e26d4440f5ee018a241ce27e93fd8d2b66a7ef0db96ad0be21f33cad3626b6c22eeeb5eea6b75426f5968c4da10e2b2cd7369e650a07a371e24df9716bdd35690114d8afaca397fb158eefb9f1afa1f76515e3d50f6d30c466cc9a43f40705157364763324182388e9651"     //4294967290
	bigNum1, err := strct.NewBigNumFromStringHex(hexNum1)
	if err != nil {
		log.Fatalln(err)
	}
	bigNum2, err := strct.NewBigNumFromStringHex(hexNum2)
	if err != nil {
		log.Fatalln(err)
	}
	borrow, bigNumRes := strct.LongSub(bigNum1, bigNum2)
	fmt.Println("Add in hex:", bigNumRes.ToHex(), borrow)
	fmt.Println(strct.LongCmp(bigNum2, bigNum1))

	hexNum3 := "784afcfaf40d652bdc697506a7e6bad6e3bee3ed359bba84c9c6a22c042d5c7b5f25dc1af8ae3399aaa5c58d52dc214045ba0af3072cc275d72c8ef36af869bfcf1085e57e33246dc11e64b0711f1ea4c18103ba04becdc27ef2bd39a4327cdc92e75384f02adbce0d2b2136fe4e336f5d98bbb0f2a285f87feec85939d0f12d9cd99ef7fe0cf5fcf1ef8f2fe2f99feb6f455890"
	hexNum4 := "ffffffff"
	bigNum3, _ := strct.NewBigNumFromStringHex(hexNum3)
	//bigNum4, _ := strct.NewBigNumFromStringHex(hexNum3)
	hexnum, err := strconv.ParseUint(hexNum4, 16, 64)
	res, carry := strct.LongMulOneDigit(bigNum3, hexnum)
	fmt.Println(res.ToHex(), carry)
}
